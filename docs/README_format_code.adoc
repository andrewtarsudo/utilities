[[format-code]]
= Руководство для format-code
:experimental:
:icons: font
:source-highlighter: rouge
:imagesdir: images
:figure-caption: Рисунок
:stylesdir: ../css
:stylesheet: default.css
:nofooter:
:toc: auto
:toc-title: Содержание
:sectnums:
:pdf-themesdir: themes
:pdf-theme: base-theme.yml
:script-name: format-code
:name: tw_utilities.exe

== Описание

Скрипт форматирует блоки кода, разбивая их на строки, которые может в себя вместить PDF-файл без непреднамеренного переноса.

Разбиение осуществляется по отдельным словам, добавляя разрыв строки:

* после 'точки с запятой';
* перед 'открывающей скобкой';
* после 'запятой'.

== Для чего нужно?

Записи журналов или примеры сущностей API могут иметь крайне длинные строки, которые превышают допустимую в PDF.
В таком случае разрыв добавляется в "случайное" место в слове, чтобы все буквы уместились.
Место, разумеется, выбирается не случайным образом, однако в любом случае повлиять на него со стороны невозможно.

include::partials/run.adoc[]

=== Опции скрипта

[source,console,subs="attributes"]
----
Использование:
{name} {script-name}
Использование:
utilities.exe format-code
-f/--file <FILE> ... <FILE>
-d/--dir <DIR>
-l/--length <LEN>
--recursive
--keep-logs

  Команда для форматирования блоков кода

Опции:
  -f, --file <FILE> ... <FILE>           Файл для обработки. Может использоваться несколько раз
  -d, --dir <DIR>                        Директория для обработки
  --recursive / --no-recursive           Флаг рекурсивного поиска файлов.
                                         По умолчанию: True, поиск файлов по вложенным папкам
  -l, --length <LEN>                     Максимальная длина строки. По умолчанию: 84
  --keep-logs                            Флаг сохранения директории с лог-файлом по завершении
                                         работы в штатном режиме.
                                         По умолчанию: False, лог-файл и директория удаляются
  -h, --help                             Вывести справочную информацию на экран и завершить работу
----------------------------------------------------------------------------------------------------
----

NOTE: Путь может быть как абсолютным, так и относительным.
