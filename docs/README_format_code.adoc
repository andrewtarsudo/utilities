[[format-code]]
= Руководство для format-code
:imagesdir: images
:stylesdir: ../css
:stylesheet: default.css
:pdf-themesdir: themes
:pdf-theme: base-theme.yml
:script-name: format-code
:asciidoctorconfigdir: ..

== Описание

Скрипт форматирует блоки кода, разбивая их на строки, которые может в себя вместить PDF-файл без непреднамеренного переноса.

Разбиение осуществляется по отдельным словам, добавляя разрыв строки:

* после 'точки с запятой';
* перед 'открывающей скобкой';
* после 'запятой'.

== Для чего нужно?

Записи журналов или примеры сущностей API могут иметь крайне длинные строки, которые превышают допустимую в PDF.
В таком случае разрыв добавляется в "случайное" место в слове, чтобы все буквы уместились.
Место, разумеется, выбирается не случайным образом, однако в любом случае повлиять на него со стороны невозможно.

include::partials/run.adoc[]

=== Опции скрипта

[source,console,subs="attributes+"]
----
Использование:
{name} {script-name}
-d/--dir DIR | -f/--file FILE ... FILE | -l/--length LEN | --recursive | --keep-logs | --h/--help

  Команда для форматирования блоков кода

Опции:
  -d, --dir DIR                          Директория для обработки
  -f, --file FILE ... FILE               Файлов для обработки. Может использоваться несколько раз
  -l, --length LEN                       Максимальная длина строки. По умолчанию: 84
                                         Примечание. Должно быть целым положительным числом
  {recursive}
                                         {recursive-note}
  {keep-logs}
                                         {keep-logs-cont}
                                         {keep-logs-default}
  {help}
                                         {help-cont}
-------------------------------------------------------------------------------------------------
----

NOTE: Путь может быть как абсолютным, так и относительным.

=== Примеры

include::partials/format-code.adoc[]