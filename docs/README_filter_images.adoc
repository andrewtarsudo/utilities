[[filter-images]]
= Руководство для filter-images
:imagesdir: images
:stylesdir: ../css
:stylesheet: default.css
:pdf-themesdir: themes
:pdf-theme: base-theme.yml
:script-name: filter-images
:asciidoctorconfigdir: ..

== Описание

Скрипт проверяет все ссылки в текстовых файлах и ищет изображения, которые не упомянуты ни разу.

== Для чего нужно?

Часто схемы, диаграммы, скриншоты со временем меняются, но старые версии оставляются про запас или для случаев, если они потенциально могут быть полезны.

Тогда проекты могут содержать множество неиспользуемых файлов, которые:

* Занимают дисковое пространство;
* Усложняют структуру проекта;
* Увеличивают шансы добавить ссылки на некорректные изображения.

include::partials/run.adoc[]

=== Опции скрипта

[source,console,subs="attributes+"]
----
Использование:
{name} {script-name} <PROJECT_DIR>
-d/--dry-run | -o/--output FILE | --recursive | --keep-logs | --h/--help

  Команда для удаления неиспользуемых изображений

Аргументы:
  project_dir                            Путь до директории проекта

Опции:
  -d, --dry-run                          Флаг вывода некорректных ссылок на экран без изменения
                                         файлов.
                                         По умолчанию: False, файлы удаляются
  -o, --output FILE                      Файл для записи вывода. По умолчанию: вывод в консоль
  {recursive}
                                         {recursive-note}
  {keep-logs}
                                         {keep-logs-cont}
                                         {keep-logs-default}
  {help}
                                         {help-cont}
------------------------------------------------------------------------------------------------
----

NOTE: Путь может быть как абсолютным, так и относительным.

=== Примеры

include::partials/filter-images.adoc[]