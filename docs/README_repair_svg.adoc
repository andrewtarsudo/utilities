[[repair-svg]]
= Руководство для repair-svg
:experimental:
:icons: font
:source-highlighter: rouge
:imagesdir: images
:figure-caption: Рисунок
:stylesdir: ../css
:stylesheet: default.css
:nofooter:
:toc: auto
:toc-title: Содержание
:sectnums:
:script-name: repair-svg
:name: tw_utilities.exe

== Описание

Скрипт исправляет файлы SVG, которые некорректно отображаются при конвертации в PDF.

В результате получаются пригодные файлы.

== Для чего нужно?

На данный момент сборка осуществляется с помощью AsciiDoc, в частности, с помощью библиотеки `asciidoctor-pdf`.
Она использует для обработки изображений библиотеку `prawn`, которая не может корректно работать с некоторыми изображениями, в частности, с теми, что оперируют внешними ссылками `<foreignObject />`.

include::partials/run.adoc[]

=== Опции скрипта

[source,console,subs="attributes"]
----
Использование:
{name} {script-name}
-f/--file <FILE> ... <FILE>
-d/--dir <DIR>
--recursive
--keep-logs

  Команда для исправления файлов SVG

Опции:
  -f, --file <FILE> ... <FILE>           Файл для обработки.
                                         Может использоваться несколько раз
  -d, --dir <DIR>                        Директория для обработки
  --recursive / --no-recursive           Флаг рекурсивного поиска файлов.
                                         По умолчанию: True, поиск файлов по вложенным папкам
  --keep-logs                            Флаг сохранения директории с лог-файлом по завершении
                                         работы в штатном режиме.
                                         По умолчанию: False, лог-файл и директория удаляются
  -h, --help                             Вывести справочную информацию на
                                         экран и завершить работу
----------------------------------------------------------------------------------------------------
----

NOTE: Путь может быть как абсолютным, так и относительным.
